---
title: "STATISTICAL COMPUTING PROJECT"
subtitle: Adem VAROL - 200709078 / Wael KABOUK - 190709723
#author: "Adem VAROL - 200709078 / Wael KABOUK - 190709723"
output:
  html_document: default
  pdf_document: default
font-family: Gill Sans
date: "`r format(Sys.time(), '%d %B, %Y')`"
---

```{r setup, include=FALSE }
knitr::opts_chunk$set(echo = TRUE)
```

## 1. (3p) Data:
Please find your original data set or data sets; and describe your data in the first step.
ATTRIBUTES OF OUR DATA
#### DESCRIBE DATA

## 2. (3p) Exploratory and descriptive data analysis:
Use “Exploratory and descriptive data analysis”. Talk about your categorical and quantitative data or your ordinal variables etc. Write down your comments.
```{r}
## install.packages("readxl")
library("readxl")
dFile <- read_excel("SC_DATA.xls")
names(dFile)
```
ORDINAL VARIABLE:          
NUMBER (1470, 1471, ...)
FULLNAME (Adem VAROL, ... , Wael KABOUK)

CATEGORICAL VARIABLES:
SCHOOL (OAL, YEAL)
CLASS (9A, 9B, 9C, ...)
GENDER (1 : Male, 0 : Female)
STAY (1 : Stay in the town, 0 : Stay in the village)
MAF_PS (Mother and father are primary school graduates, 1 : Yes, 0 : No)
CHILD_1 (1 : One Kid, 0 : Two Kids)
CHILDREN_3 (1 : Three Kids, 0 : More than three children)
MAF_DIV (Mother and father divided, 1 : Yes, 0 : No)
MOTHER_DIED (1 : Yes, 0 : No)
FATHER_DIED (1 : Yes, 0 : No)
FAMILY_PATIENT (Has a family member who is sick, 1 : Yes, 0 : No)
STUDENT_PATIENT (The student has a sick,  1 : Yes, 0 : No)

QUANTITATIVE VARIABLE:
GPA (Grade point average)
```{r}
summary(dFile$GPA)
## head(dFile)
```

## 3. (3p) Data Visualization:
Use at least 4 different “data visualization techniques” and talk about your data further (distribution, outliers, variability, etc). Use at least 2 of the visualizations to compare two groups (like female/male; smoker/non-smoker etc).

```{r}
library(MASS)
library(ggplot2)

barplot(dFile$GPA, main = 'BAR PLOT FOR GPA', xlab = 'STUDENTS', ylab = "GRADES", horiz = FALSE, ylim = c(0,100))

hist(dFile$GPA, main ="HISTOGRAM PLOT FOR GPA", xlab ="GPA", xlim = c(0, 100), col ="blue", freq = TRUE, breaks = 10)

plot(density(subset(dFile, GENDER=="0")$GPA), xlab = "GPA OF GIRLS", main = "HISTOGRAM PLOT FOR GIRLS",col="pink")
plot(density(subset(dFile, GENDER=="1")$GPA), xlab = "GPA OF BOYS", main = "HISTOGRAM PLOT FOR BOYS",col="blue")

ggplot(dFile, aes(x=GPA)) + geom_density(col="red")

qqnorm(dFile$GPA, pch = 1, frame = TRUE, main ="NORMAL Q-Q PLOT FOR GPA")
# qqline(dFile$GPA, col = "steelblue", lwd = 2)

boxplot(main="HISTOGRAM PLOT FOR GPA", dFile$GPA, ylab ="GPA", col="steelblue")
```

## 4. (3p) Central Limit Theorem:
Choose one of your variables. Write down your own function which proves the central limit theorem (CLT): show that whatever the distribution is, the sampling data will be distribured normally. (have a look at the example in Statistics_Lecture_5, page9)
```{r}
library(shiny)

hist(dFile$GPA, main ="Histogram Plot for GPA", xlab ="GPA", xlim = c(0, 100),
    col ="blue", freq = TRUE, breaks = 10)

shapiro.test(dFile$GPA)

#H0: Data is Normally Distributed
#H1: Data is not Normally Distributed    alpha=0.05

#If p ≤ 0.05: then the null hypothesis can be rejected 
#If p > 0.05: then the null hypothesis cannot be rejected 
# So p is less than 0.05 our data is not normally distributed.

```

## 5. (3p) Confidence Intervals:
Build 2 confidence intervals and make “clear comments” about your findings.

```{r}
#t-test
gpa.mean <- mean(dFile$GPA)
gpa.sd <- sd(dFile$GPA)
gpa.se <- gpa.sd/sqrt(length(dFile))

t.test(dFile$GPA,mu=2000)


#Confidence interval 
t.score1 <-  qt(p=0.05, df=80,lower.tail=F)

error <- t.score1 * gpa.se
lower.bound <- gpa.mean  - error
upper.bound <- gpa.mean  + error
sprintf('%f < x < %f',lower.bound, upper.bound)
# print(c(lower.bound, upper.bound))

a <- subset(dFile, GPA < 70)

#1 — Hypothesis for first Fisher’s Exact Test (Alternative Two Sided):
#Ho: The odds ratio is equal to 1
#Ha: The odds ratio is not equal to 1
#2 — Hypothesis for first Fisher’s Exact Test (Alternative Less):
#Ho: The odds ratio is equal to or greater than 1
#Ha: The odds ratio is less than 1
#3 — Hypothesis for first Fisher’s Exact Test (Alternative Greater):
#Ho: The odds ratio is equal to or less than 1
#Ha: The odds ratio is greater than 1
```


## 6. (3p) Transformation:
Try to make one transformation (log transformation, Box-Cok transformation, etc) for one of your quantitative variables, which is not normally distributed; but will be normal or more normal, after the transformation.

6. (3p) Dönüşüm:
Normalde dağılmayan nicel değişkenlerinizden biri için bir dönüşüm (log dönüşümü, Box-Cok dönüşümü vb.) yapmaya çalışın; ancak dönüşümden sonra normal veya daha normal olacaktır.


## 7. (2p every item) Single t-test (Welch t-test or Wilcoxon rank-sum test)
Implement a single t-test for one of your “normally or not-normally distributed” variable:
a. Aim
In words, what is your objective here?
b. Hypothesis and level of significance:
Write your hypothesis in scientific form and determine the level of singnificance.
c. Assumption Check:
Check the required assumptions and “comment on each of them is a must!”.
d. Indicate “which test you choose” “for what reason”
e. Result:
Give the output of the test and write down the result (ex: since p value is less than alpha, I reject the null hypothesis).
f. Conclusion:
You got your result in item e. Write down the conclusion of your result, in such a way that, the reader who doesn’t know any statistics can understand your findings.
g. What can be Type-1 and Type-2 error here?

a. Amaç
Kısacası buradaki amacınız nedir?
b. Hipotez ve önem düzeyi:
Hipotezinizi bilimsel biçimde yazın ve anlamlılık düzeyini belirleyin.
c. Varsayım Kontrolü:
Gerekli varsayımları kontrol edin ve “her biri için yorum yapılması zorunludur!”.
d. “Hangi testi seçtiğinizi” “ne sebeple” belirtin
e. Sonuç:
Testin çıktısını verin ve sonucu yazın (örn: p değeri alfadan küçük olduğu için boş hipotezi reddediyorum).
f. Çözüm:
Sonucunuzu e maddesinde aldınız. Sonucunuzun sonucunu, herhangi bir istatistik bilmeyen okuyucunun bulgularınızı anlayabileceği şekilde yazın.
g. Burada Tip-1 ve Tip-2 hatası ne olabilir?



## 8. (2p every item) Paired t-test:
a. Aim
In words, what is your objective here?
b. Hypothesis and level of significance:
Write your hypothesis in scientific form and determine the level of singnificance.
c. Assumption Check:
Tell why you use the paired t test, and Check the required assumptions. “comment on each of them is a must!”.
d. Result:
Give the output of the test and write down the result (ex: since p value is less than alpha, I reject the null hypothesis).
e. Conclusion:
You got your result in item d. Write down the conclusion of your result, in such a way that, the reader who doesn’t know any statistics can understand your findings.

a. Amaç
Kısacası buradaki amacınız nedir?
b. Hipotez ve önem düzeyi:
Hipotezinizi bilimsel biçimde yazın ve anlamlılık düzeyini belirleyin.
c. Varsayım Kontrolü:
Eşleştirilmiş t testini neden kullandığınızı söyleyin ve gerekli varsayımları kontrol edin. “Her birine yorum yapılması şart!”.
d. Sonuç:
Testin çıktısını verin ve sonucu yazın (örn: p değeri alfadan küçük olduğu için boş hipotezi reddediyorum).
e. Çözüm:
Sonucunuzu d maddesinde aldınız. Sonucunuzun sonucunu, herhangi bir istatistik bilmeyen okuyucunun bulgularınızı anlayabileceği şekilde yazın.



## 9. (2p every item) Fisher’s exact test for count data
a. Aim
In words, what is your objective here?
b. Hypothesis and level of significance:
Write your hypothesis in scientific form and determine the level of singnificance.
c. Result:
Give the output of the test and write down the result (since p value is less than alpha, I reject the null hypothesis).
d. Conclusion:
You got your result in item c. Write down the conclusion of your result, in such a way that, the reader who doesn’t know any statistics can understand your findings.
e. Odds Ratio:
Comment about the odds ratio, what does it indicate?

a. Amaç
Kısacası buradaki amacınız nedir?
b. Hipotez ve önem düzeyi:
Hipotezinizi bilimsel biçimde yazın ve anlamlılık düzeyini belirleyin.
c. Sonuç:
Testin çıktısını verin ve sonucu yazın (p değeri alfadan küçük olduğu için boş hipotezi reddediyorum).
d. Çözüm:
Sonucunuzu c maddesinde aldınız. Sonucunuzun sonucunu, herhangi bir istatistik bilmeyen okuyucunun bulgularınızı anlayabileceği şekilde yazın.
e. Olasılık oranı:
Olasılık oranı hakkında yorum yapın, neyi gösterir?



## 10. (2p every item) ANOVA and Tukey Test
a. Aim
In words, what is your objective here?
b. Hypothesis and level of significance:
Write your hypothesis in scientific form and determine the level of singnificance.
c. Assumption Check:
Check the required assumptions. “comment on each of them is a must!”.
d. Result of ANOVA:
Give the output of the test and write down the result (ex:since p value is less than alpha, I reject the null hypothesis)
e. Conclusion of ANOVA:
You got your result in item d. Write down the conclusion of your result, in such a way that, the reader who doesn’t know any statistics can understand your findings.
f. Result of Tukey:
Give the output of the test and write down the result (ex:since p value is less than alpha, I reject the null hypothesis)
g. Conclusion of Tukey:
You got your result in item f. Write down the conclusion of your result, in such a way that, the reader who doesn’t know any statistics can understand your findings.

a. Amaç
Kısacası buradaki amacınız nedir?
b. Hipotez ve önem düzeyi:
Hipotezinizi bilimsel biçimde yazın ve anlamlılık düzeyini belirleyin.
c. Varsayım Kontrolü:
Gerekli varsayımları kontrol edin. “Her birine yorum yapılması şart!”.
d. ANOVA'nın Sonucu:
Testin çıktısını verin ve sonucu yazın (örn: p değeri alfadan küçük olduğu için boş hipotezi reddediyorum)
e. ANOVA'nın Sonuçları:
Sonucunuzu d maddesinde aldınız. Sonucunuzun sonucunu, herhangi bir istatistik bilmeyen okuyucunun bulgularınızı anlayabileceği şekilde yazın.
f. Tukey'in Sonucu:
Testin çıktısını verin ve sonucu yazın (örn: p değeri alfadan küçük olduğu için boş hipotezi reddediyorum)
g. Tukey'in Sonuçları:
Sonucunuzu f maddesinde aldınız. Sonucunuzun sonucunu, herhangi bir istatistik bilmeyen okuyucunun bulgularınızı anlayabileceği şekilde yazın.



## 11. (2p every item) Multiple Linear Regression
a. Aim
In words, what is your objective here?
b. Regression Equation:
Multiple linear regression (MLR) is a statistical technique that uses several explanatory variables to predict the outcome of a response variable. Which ones are your explanatory variables and which one is your response variable? Write down the equation of your regression using those variables.
c. Hypothesis and level of significance:
Write your hypothesis in scientific form and determine the level of singnificance.
d. Find the Best Model:
Use step function and find the best model, describe the reason which makes it the best one.
e. Assumption Check:
Check the required assumptions, “comment on each of them is a must!”.
f. Result:
Give the output of the best model and write down the result.
g. Conclusion:
You got your result in item f. Write down the conclusion of your result, in such a way that, the reader who doesn’t know any statistics can understand your findings.
h. Prediction:
Think of a new X variable, or variables (just make it up). Use your best model in order to predict the new Y variable for those X variables.

a. Amaç
Kısacası buradaki amacınız nedir?
b. Regresyon Denklemi:
Çoklu doğrusal regresyon (MLR), bir yanıt değişkeninin sonucunu tahmin etmek için birkaç açıklayıcı değişken kullanan istatistiksel bir tekniktir. Hangileri açıklayıcı değişkenleriniz ve hangileri yanıt değişkeniniz? Bu değişkenleri kullanarak regresyonunuzun denklemini yazın.
c. Hipotez ve önem düzeyi:
Hipotezinizi bilimsel biçimde yazın ve anlamlılık düzeyini belirleyin.
d. En İyi Modeli Bulun:
Adım işlevini kullanın ve en iyi modeli bulun, onu en iyi yapan nedeni açıklayın.
e. Varsayım Kontrolü:
Gerekli varsayımları kontrol edin, “her biri için yorum yapılması zorunludur!”.
f. Sonuç:
En iyi modelin çıktısını verin ve sonucu yazın.
g. Çözüm:
Sonucunuzu f maddesinde aldınız. Sonucunuzun sonucunu, herhangi bir istatistik bilmeyen okuyucunun bulgularınızı anlayabileceği şekilde yazın.
h. Tahmin:
Yeni bir X değişkeni veya değişkenler düşünün (sadece uydurun). Bu X değişkenleri için yeni Y değişkenini tahmin etmek için en iyi modelinizi kullanın.